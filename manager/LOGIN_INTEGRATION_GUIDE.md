# é¡¹ç›®ç®¡ç†ç³»ç»Ÿ - å‰åç«¯ç™»å½•é›†æˆæŒ‡å—

## ğŸ‰ é›†æˆå®ŒæˆçŠ¶æ€

âœ… **åç«¯æœåŠ¡å™¨**: Spring Boot åº”ç”¨è¿è¡Œåœ¨ `http://localhost:8080`  
âœ… **å‰ç«¯æœåŠ¡å™¨**: React åº”ç”¨è¿è¡Œåœ¨ `http://localhost:3000`  
âœ… **API è¿æ¥**: å‰åç«¯é€šä¿¡æ­£å¸¸  
âœ… **ç™»å½•åŠŸèƒ½**: é¡¹ç›®ç®¡ç†å‘˜ç™»å½•é›†æˆå®Œæˆ  
âœ… **è®¤è¯ç®¡ç†**: JWT token ç®¡ç†å’Œå­˜å‚¨  
âœ… **è·¯ç”±ä¿æŠ¤**: æœªç™»å½•ç”¨æˆ·è‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µ

## ğŸ” æµ‹è¯•è´¦æˆ·

æ ¹æ®æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹è´¦æˆ·è¿›è¡Œæµ‹è¯•ï¼š

**é¡¹ç›®ç®¡ç†å‘˜è´¦æˆ·:**

- é‚®ç®±: `zhangsan@example.com`
- å¯†ç : `123456`
- è§’è‰²: Administrator

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd Pelegant
java -jar target/Pelegant-0.0.1-SNAPSHOT.jar
```

### 2. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd managementsystem-main/managementsystem-main
npm run dev
```

### 3. è®¿é—®ç³»ç»Ÿ

- å‰ç«¯åœ°å€: http://localhost:3000
- åç«¯ API æ–‡æ¡£: http://localhost:8080/doc.html

### 4. ç™»å½•æµç¨‹

1. è®¿é—® http://localhost:3000
2. ç³»ç»Ÿä¼šè‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢
3. è¾“å…¥é‚®ç®±å’Œå¯†ç 
4. ç™»å½•æˆåŠŸåè·³è½¬åˆ°ä»ªè¡¨æ¿

## ğŸ”§ æŠ€æœ¯å®ç°

### å‰ç«¯æŠ€æœ¯æ ˆ

- **React 18** + **TypeScript**
- **Vite** å¼€å‘æœåŠ¡å™¨
- **Tailwind CSS** + **shadcn/ui** ç»„ä»¶åº“
- **React Router** è·¯ç”±ç®¡ç†
- **React Hook Form** + **Zod** è¡¨å•éªŒè¯

### åç«¯æŠ€æœ¯æ ˆ

- **Spring Boot 2.6.13**
- **MongoDB** æ•°æ®åº“
- **JWT** è®¤è¯
- **Swagger/Knife4j** API æ–‡æ¡£

### è®¤è¯æµç¨‹

1. ç”¨æˆ·æäº¤é‚®ç®±å’Œå¯†ç 
2. å‰ç«¯è°ƒç”¨ `/api/projects/login-json` æ¥å£
3. åç«¯éªŒè¯ç”¨æˆ·ä¿¡æ¯å¹¶ç”Ÿæˆ JWT token
4. å‰ç«¯å­˜å‚¨ token å’Œç”¨æˆ·ä¿¡æ¯åˆ° localStorage
5. åç»­è¯·æ±‚åœ¨è¯·æ±‚å¤´ä¸­æºå¸¦ token (`project: Bearer <token>`)

## ğŸ“ å…³é”®æ–‡ä»¶

### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶

- `src/lib/api.ts` - API æ¥å£å’Œè®¤è¯ç®¡ç†
- `src/contexts/AuthContext.tsx` - è®¤è¯ä¸Šä¸‹æ–‡
- `src/pages/Login.tsx` - ç™»å½•é¡µé¢
- `src/components/layout/DashboardLayout.tsx` - ä¸»å¸ƒå±€ç»„ä»¶

### åç«¯æ ¸å¿ƒæ–‡ä»¶

- `src/main/java/com/x/pelegant/controller/ProjectController.java` - é¡¹ç›®ç®¡ç†å‘˜æ§åˆ¶å™¨
- `src/main/java/com/x/pelegant/service/ProjectService.java` - é¡¹ç›®ç®¡ç†å‘˜æœåŠ¡
- `src/main/java/com/x/pelegant/config/JwtConfig.java` - JWT é…ç½®

## ğŸ” API æ¥å£

### é¡¹ç›®ç®¡ç†å‘˜ç™»å½•

```
POST /api/projects/login-json
Content-Type: application/json

{
  "email": "zhangsan@example.com",
  "password": "123456"
}
```

### å“åº”æ ¼å¼

```json
{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzUxMiJ9...",
    "userId": "68649d479c9bb245d1dfba2c",
    "username": "å¼ ä¸‰",
    "role": "project",
    "expiresAt": 1751676000000,
    "userInfo": {
      "id": "68649d479c9bb245d1dfba2c",
      "name": "å¼ ä¸‰",
      "email": "zhangsan@example.com",
      "department": "æŠ€æœ¯éƒ¨",
      "role": "Administrator",
      "status": "active"
    }
  }
}
```

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- **JWT Token**: 7 å¤©æœ‰æ•ˆæœŸ
- **å¯†ç åŠ å¯†**: åç«¯å¯†ç åŠ å¯†å­˜å‚¨
- **CORS é…ç½®**: å…è®¸è·¨åŸŸè¯·æ±‚
- **è·¯ç”±ä¿æŠ¤**: æœªè®¤è¯ç”¨æˆ·æ— æ³•è®¿é—®å—ä¿æŠ¤é¡µé¢
- **Token è¿‡æœŸæ£€æŸ¥**: è‡ªåŠ¨æ£€æŸ¥ token æœ‰æ•ˆæ€§

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **å®Œå–„å…¶ä»–é¡µé¢**: é›†æˆå­¦æ ¡ç®¡ç†ã€å­¦ç”Ÿç®¡ç†ç­‰é¡µé¢çš„ API
2. **æƒé™ç®¡ç†**: å®ç°åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
3. **æ•°æ®ç»‘å®š**: å°†å‰ç«¯è¡¨æ ¼å’Œè¡¨å•ä¸åç«¯æ•°æ®ç»‘å®š
4. **é”™è¯¯å¤„ç†**: å®Œå–„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
5. **æµ‹è¯•**: æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **CORS é”™è¯¯**: ç¡®ä¿åç«¯ CORS é…ç½®æ­£ç¡®
2. **è¿æ¥å¤±è´¥**: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦åœ¨ 8080 ç«¯å£è¿è¡Œ
3. **ç™»å½•å¤±è´¥**: éªŒè¯æ•°æ®åº“ä¸­çš„ç”¨æˆ·æ•°æ®
4. **Token è¿‡æœŸ**: æ¸…é™¤ localStorage é‡æ–°ç™»å½•

### è°ƒè¯•å·¥å…·

- æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)
- åç«¯æ—¥å¿—è¾“å‡º
- API æµ‹è¯•é¡µé¢: http://localhost:3000/test-login
- Swagger æ–‡æ¡£: http://localhost:8080/doc.html

---

ğŸ‰ **æ­å–œï¼é¡¹ç›®ç®¡ç†ç³»ç»Ÿçš„å‰åç«¯ç™»å½•åŠŸèƒ½å·²æˆåŠŸé›†æˆï¼**
